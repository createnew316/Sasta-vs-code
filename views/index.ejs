<!DOCTYPE html>
<html>

<head>
  <title>vd</title>
  <link href="https://cdn.jsdelivr.net/npm/remixicon@3.0.0/fonts/remixicon.css" rel="stylesheet">
  <link rel='stylesheet' href='/stylesheets/style.css' />
</head>

<body>
  <div id="main">
    <div id="left">
      <h4>VS Code</h4>
      <div id="file">
        <div class="files">
          <h5>Folder Name</h5>
          <div id="icon">
            <i id="folderI" class="ri-folder-line"></i>
          <i id="fileI" class="ri-file-line"></i>
          <a href="/"> <i id="refreshicon" class="ri-restart-line"></i></a>
          </div>
        </div>
        <form id="folderName" action="/createfolder">
          <input type="text" name="FolderName" placeholder="Folder Name">
        </form>
        <form id="fileName" action="/createfile">
          <input type="text" name="fileName" placeholder="File Name">
        </form>
        
        <% file.forEach(function(elem){ %>
          <%  if(elem.folderhai === true){ %>
            <div class="files">
             <h5><i class="ri-folder-fill"></i> <%= elem.name %></h5>
              <div id="icon">
                <a href="http://localhost:1000/delete/folder/<%=elem.name %>">  <i class="ri-delete-bin-6-line"></i></a>
                <i  class="ri-restart-line"></i>
              </div>
            </div>
              <%}else{  %>
                <div class="files">
                <a href="/files/<%=elem.name%>">  <h5>    <i class="ri-file-line"></i> <%= elem.name %></h5></a>
                  <div id="icon">
                  <a href="http://localhost:1000/delete/file/<%=elem.name %>">  <i class="ri-delete-bin-6-line"></i></a>
                    <i class="ri-restart-line"></i>
                  </div>
                </div>
             <% } %>
         
       <% }) %>
      </div>
    </div>
    <div id="right">
      <div id="rnav">
        
    
    </div>
  </div>
  <script>
    function onOff() {
      document.querySelectorAll("form").forEach(function (form) {
        form.style.display = "none";
      })
    }

    document.querySelector("#fileI").addEventListener("click", function () {
      onOff();
      document.querySelector("#fileName").style.display = "initial"

    })
    document.querySelector("#folderI").addEventListener("click", function () {
      onOff();
      document.querySelector("#folderName").style.display = "initial"

    })
    window.addEventListener("keydown", function (dets) {
      if (dets.keyCode === 27) {
        onOff();
        document.querySelectorAll("form input").forEach(function (dets) {
          dets.value = " ";
        })
      }
    })

  </script>
</body>

</html>